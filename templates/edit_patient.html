{% extends "base.html" %}
{% block content %}
<section class="hero small-hero">
  <h2>Edit Patient Info</h2>
</section>

<main class="form-container">
  <form method="POST">
    <div class="grid-form">
      <div class="form-group">
        <label for="patient_id">Patient ID (locked)</label>
        <input type="text" name="patient_id" value="{{ patient.patient_id }}" readonly style="background-color: #eee; cursor: not-allowed;">
      </div>
      <div class="form-group">
        <label for="gender">Gender</label>
        <input type="text" name="gender" value="{{ patient.gender }}" required>
      </div>
      <div class="form-group">
        <label for="age">Age</label>
        <input type="number" name="age" value="{{ patient.age }}" required>
      </div>
      <div class="form-group">
        <label for="hypertension">Hypertension</label>
        <select name="hypertension" required>
          <option value="">Select</option>
          <option value="1" {% if patient.hypertension == 1 %}selected{% endif %}>Yes</option>
          <option value="0" {% if patient.hypertension == 0 %}selected{% endif %}>No</option>
        </select>
      </div>
      <div class="form-group">
        <label for="ever_married">Ever Married</label>
        <select name="ever_married" required>
          <option value="">Select</option>
          <option value="Yes" {% if patient.ever_married == 'Yes' %}selected{% endif %}>Yes</option>
          <option value="No" {% if patient.ever_married == 'No' %}selected{% endif %}>No</option>
        </select>
      </div>
      <div class="form-group">
        <label for="work_type">Work Type</label>
        <select name="work_type" required>
          <option value="">Select</option>
          <option value="Private" {% if patient.work_type == 'Private' %}selected{% endif %}>Private</option>
          <option value="Self-employed" {% if patient.work_type == 'Self-employed' %}selected{% endif %}>Self-employed</option>
          <option value="Govt_job" {% if patient.work_type == 'Govt_job' %}selected{% endif %}>Govt Job</option>
          <option value="Children" {% if patient.work_type == 'Children' %}selected{% endif %}>Children</option>
        </select>
      </div>
      <div class="form-group">
        <label for="residence_type">Residence Type</label>
        <select name="residence_type" required>
          <option value="">Select</option>
          <option value="Urban" {% if patient.residence_type == 'Urban' %}selected{% endif %}>Urban</option>
          <option value="Rural" {% if patient.residence_type == 'Rural' %}selected{% endif %}>Rural</option>
        </select>
      </div>
      <div class="form-group">
        <label for="avg_glucose_level">Avg. Glucose Level</label>
        <input type="number" step="0.1" name="avg_glucose_level" value="{{ patient.avg_glucose_level }}" required>
      </div>
      <div class="form-group">
        <label for="bmi">BMI</label>
        <input type="number" step="0.1" name="bmi" value="{{ patient.bmi }}" required>
      </div>
      <div class="form-group">
        <label for="smoking_status">Smoking Status</label>
        <select name="smoking_status" required>
          <option value="">Select</option>
          <option value="formerly smoked" {% if patient.smoking_status == 'formerly smoked' %}selected{% endif %}>Formerly Smoked</option>
          <option value="never smoked" {% if patient.smoking_status == 'never smoked' %}selected{% endif %}>Never Smoked</option>
          <option value="smokes" {% if patient.smoking_status == 'smokes' %}selected{% endif %}>Smokes</option>
        </select>
      </div>
      <div class="form-group">
        <label for="stroke">Stroke</label>
        <select name="stroke" required>
          <option value="">Select</option>
          <option value="1" {% if patient.stroke == 1 %}selected{% endif %}>Yes</option>
          <option value="0" {% if patient.stroke == 0 %}selected{% endif %}>No</option>
        </select>
      </div>
    </div>
    <button type="submit" class="btn">Save Changes</button>
  </form>
</main>
{% endblock %}
